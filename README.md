# ConcurrentPool
项目简介

实现了一个多线程环境下的高并发内存分配器，多个线程可以并发的申请内存，释放内存时会进行内存碎片的合并，其效率要比 malloc 高，解决了频繁申请的效率问题、多核多线程环境中的锁竞争问题和产生内存碎片的问题。

开发环境和技术知识

C＋＋，VS2019，链表，哈希表，单例模式，多线程，TLS 线程局部存储，互斥锁

功能实现

设计三层缓存结构，实现内存的申请和回收以及内存碎片的合并等功能

第一层是 ThreadCache：每个线程独享一个 TLS 线程局部存储，申请内存不需要加锁。

第二层是 CentralCache：中心缓存是所有线程共享的，ThreadCache 向 CentralCache 申请内存，CentralCache 会回收 ThreadCache 中的内存，避免一个线程占用太多内存，实现内存在多个线程之间
均衡的调度，根据申请内存的大小申请对应的锁。

第三层是 PageCache：页缓存存储的内存是以页为单位存储和分配，CentralCache 向 PageCache 申请
一定数量的页，再分割成申请的内存大小的内存块放到 CentralCache 中，PageCache 回收满足条件的页，并合并前后相邻的页组成更大的页，缓解内存碎片的问题。
